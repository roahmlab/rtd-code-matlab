<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulation Files and World Container &mdash; RTD-code MATLAB (dev) development version</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" />
      <link rel="stylesheet" type="text/css" href="../_static/katex-math.css?v=91adb8b6" />
      <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=7aecf6dd"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="../_static/design-tabs.js?v=36754332"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RTD Code Utilities Reference" href="../utilities/utilities.html" />
    <link rel="prev" title="Simulation Systems" href="systems.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            RTD-code MATLAB (dev)
          </a>
              <div class="version">
                development version
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#general-setup">General Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#optional-components-for-mexed-functions">Optional Components for MEXed Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#obtaining-urdfs">Obtaining URDFs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">RTD Code Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/sim/box2d_agent.html">Box2D Agent example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/sim/box2d_agent.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/sim/box2d_agent.html#boxagent">BoxAgent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/sim/box2d_agent.html#boxagentinfo">BoxAgentInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/sim/box2d_agent.html#boxagentvisual">BoxAgentVisual</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../planner/planner.html">RTD Base Planner and Implementations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../planner/base.html">RTD Planner Interfaces and Base Classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../planner/base.html#the-rtd-planner">The RTD Planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../planner/base.html#module-+rtd.+planner.+reachsets">Reachable Sets Generation Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../planner/base.html#module-+rtd.+trajectory">Trajectory Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../planner/base.html#module-+rtd.+planner.+trajopt">Trajectory Optimization Interfaces &amp; Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../planner/armour.html">Example RTD Planner Implementation of ARMOUR</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../planner/armour.html#the-base-armour-planner">The Base ARMOUR Planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../planner/armour.html#module-+armour.+reachsets">Reachable Set Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../planner/armour.html#module-+armour.+trajectory">Trajectory Types and Factory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../planner/waitr.html">Example RTD Planner Implementation of WAITR</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../planner/waitr.html#the-base-waitr-planner">The Base WAITR Planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../planner/waitr.html#module-+waitr.+reachsets">Extra Reachable Sets not in ARMOUR</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="simulation.html">RTD Simulation Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="entities.html">Entities and Agents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="entities.html#base-entity-class-worldentity">Base Entity Class (WorldEntity)</a></li>
<li class="toctree-l3"><a class="reference internal" href="entities.html#box-obstacle-entity">Box Obstacle Entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="entities.html#armour-agent">Armour Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="entities.html#waitr-agent">Waitr Agent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components for Entities and Agents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components.html#module-+rtd.+entity.+components">Base Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#module-+rtd.+entity.+box_obstacle">Box Obstacle Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#module-+armour.+agent">Armour Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#module-+waitr.+agent">Waitr Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="systems.html">Simulation Systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="systems.html#module-+rtd.+sim.+systems.+patch3d_collision">Patch3dCollisionSystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="systems.html#module-+rtd.+sim.+systems.+patch_visual">PatchVisualSystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="systems.html#randomarmconfigurationgoal">RandomArmConfigurationGoal</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Simulation Files and World Container</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#world-model-container">World Model Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#base-simulation">Base Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#armour-simulation">Armour Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#waitr-simulation">Waitr Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/utilities.html">RTD Code Utilities Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../utilities/mixins.html">RTD Code Mixin Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/containers.html">RTD Utility Container Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/types.html">Utility Types and Enumerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/utilities.html#module-+rtd.+util">General Utilities</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RTD-code MATLAB (dev)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="simulation.html">RTD Simulation Reference</a></li>
      <li class="breadcrumb-item active">Simulation Files and World Container</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/simulation/simulations.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="simulation-files-and-world-container">
<h1>Simulation Files and World Container<a class="headerlink" href="#simulation-files-and-world-container" title="Permalink to this heading"></a></h1>
<p>In this version of the simulator, we explicitly isolate world as just a container.
It holds what should exist in a single simulation instance and can be exported to/from a file.
At the moment, only the initial configuration of the world can be exported and it relies on the use of the <code class="xref mat mat-class docutils literal notranslate"><span class="pre">rtd.util.mixin.Options</span></code> mixin.</p>
<section id="world-model-container">
<h2>World Model Container<a class="headerlink" href="#world-model-container" title="Permalink to this heading"></a></h2>
<dl class="mat class">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">rtd.sim.world.</span></span><span class="sig-name descname"><span class="pre">WorldModel</span></span><a class="headerlink" href="#rtd.sim.world.WorldModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">handle</span></code></p>
<p>Contains the entities and systems for a simulation.</p>
<p>A WorldModel is a container for entities and systems. In any given
simulation, there should be one WorldModel. The WorldModel is responsible
for describing the entities and systems in the simulation, and the
simulation itself is responsible for running the simulation.</p>
<p>This class contains methods for importing and exporting the world to and
from XML files.</p>
<div class="members docutils container">
<dl>
<dt>Property Summary</dt><dd><dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.all_entities">
<span class="sig-name descname"><span class="pre">all_entities</span></span><a class="headerlink" href="#rtd.sim.world.WorldModel.all_entities" title="Permalink to this definition"></a></dt>
<dd><p>all_entities is a struct of all entities in the world</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.dynamic_entities">
<span class="sig-name descname"><span class="pre">dynamic_entities</span></span><a class="headerlink" href="#rtd.sim.world.WorldModel.dynamic_entities" title="Permalink to this definition"></a></dt>
<dd><p>dynamic_entities is a struct of all dynamic entities in the world.
it is a subset of all_entities</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.static_entities">
<span class="sig-name descname"><span class="pre">static_entities</span></span><a class="headerlink" href="#rtd.sim.world.WorldModel.static_entities" title="Permalink to this definition"></a></dt>
<dd><p>static_entities is a struct of all static entities in the world.
it is a subset of all_entities</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.systems">
<span class="sig-name descname"><span class="pre">systems</span></span><a class="headerlink" href="#rtd.sim.world.WorldModel.systems" title="Permalink to this definition"></a></dt>
<dd><p>systems is a struct of all systems in the world</p>
</dd></dl>

</dd>
<dt>Method Summary</dt><dd><dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.addEntity">
<span class="sig-name descname"><span class="pre">addEntity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">entity</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.addEntity" title="Permalink to this definition"></a></dt>
<dd><p>Add an entity to the world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>rtd.sim.world.WorldEntity</em>) – the entity to add</p></li>
<li><p><strong>options</strong> – Keyword arguments. See below.</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>type</strong> – the type of entity to add. Must be ‘static’ or
‘dynamic’. Default: ‘static’</p></li>
<li><p><strong>update_name</strong> – whether to update the name of the entity to
match the name given in the options. Default: false</p></li>
<li><p><strong>name</strong> – the name of the entity. If not given, the name will
be the classname of the entity with a number appended
to it. Default: ‘’</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the name of the entity added</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.addSystem">
<span class="sig-name descname"><span class="pre">addSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">system</span></em>, <em class="sig-param"><span class="pre">name</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.addSystem" title="Permalink to this definition"></a></dt>
<dd><p>Add a system to the world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>system</strong> (<em>rtd.sim.systems.SimulationSystem</em>) – the system to add</p></li>
<li><p><strong>name</strong> – the name of the system</p></li>
<li><p><strong>options</strong> – Keyword arguments. See below.</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>update_name</strong> – whether to update the name of the system to
match the name given in the options. Default: false</p></li>
<li><p><strong>replace_system</strong> – whether to replace the system if it already
exists. If false, an error will be thrown. Default: true</p></li>
</ul>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="xref mat mat-exc docutils literal notranslate"><span class="pre">SystemExists</span></code></span> – if the system already exists and replace_system
    is false</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the name of the system added</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>name</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.checkTimeSync">
<span class="sig-name descname"><span class="pre">checkTimeSync</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.checkTimeSync" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.export" title="Permalink to this definition"></a></dt>
<dd><p>Export a world to an XML file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – the filename to export to. If empty, the XML
string will be returned instead of written to a file.
Default: ‘’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the XML string if filename is empty</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>outstring</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.getEntityComponent">
<span class="sig-name descname"><span class="pre">getEntityComponent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">component_name</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.getEntityComponent" title="Permalink to this definition"></a></dt>
<dd><p>Get a component from all entities in the world</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_name</strong> – the name of the component to get</p></li>
<li><p><strong>options</strong> – Keyword arguments. See below.</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>type</strong> – the type of entity to get the component from. Must be
‘all’, ‘static’, or ‘dynamic’. Default: ‘all’</p></li>
<li><p><strong>MissingComponentAction</strong> – what to do if the component is
missing. Must be ‘skip’, ‘empty’, or ‘throw’. If ‘skip’,
the entity will be skipped. If ‘empty’, an empty
component will be returned for that entity. If ‘throw’,
an error will be thrown. Default: ‘skip’</p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><dl class="simple">
<dt>a struct of the components, with the same</dt><dd><p>fields as the entities</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>struct_out</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><span><code class="xref mat mat-exc docutils literal notranslate"><span class="pre">MissingComponent</span></code></span> – if the component is missing and
    MissingComponentAction is ‘throw’</p>
</dd>
</dl>
</dd></dl>

<dl class="mat staticmethod">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.import">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.import" title="Permalink to this definition"></a></dt>
<dd><p>Import a world from an XML file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – the filename to import from</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the world model</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>world</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.mergeFromNode">
<span class="sig-name descname"><span class="pre">mergeFromNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">rootNode</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.mergeFromNode" title="Permalink to this definition"></a></dt>
<dd><p>Merge a world from an XML node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rootNode</strong> – the node to import from</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><code class="xref mat mat-exc docutils literal notranslate"><span class="pre">EntityUnexpectedType</span></code></span> – if an entity already exists as the
    opposite type (dynamic/static)</p></li>
<li><p><span><code class="xref mat mat-exc docutils literal notranslate"><span class="pre">InvalidVersion</span></code></span> – if the version is not 0.1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.world.WorldModel.mergeFromXML">
<span class="sig-name descname"><span class="pre">mergeFromXML</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.world.WorldModel.mergeFromXML" title="Permalink to this definition"></a></dt>
<dd><p>Merge a world from an XML file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – the filename to import from</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><code class="xref mat mat-exc docutils literal notranslate"><span class="pre">EntityUnexpectedType</span></code></span> – if an entity already exists as the
    opposite type (dynamic/static)</p></li>
<li><p><span><code class="xref mat mat-exc docutils literal notranslate"><span class="pre">InvalidVersion</span></code></span> – if the version is not 0.1</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd>
</dl>
</div>
</dd></dl>

</section>
<section id="base-simulation">
<h2>Base Simulation<a class="headerlink" href="#base-simulation" title="Permalink to this heading"></a></h2>
<dl class="mat class">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">rtd.sim.</span></span><span class="sig-name descname"><span class="pre">BaseSimulation</span></span><a class="headerlink" href="#rtd.sim.BaseSimulation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">rtd.util.mixins.NamedClass</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">handle</span></code></p>
<p>BaseSimulation: Base class for all simulations</p>
<p>Whenever creating a new simulation, it is recommended to inherit from
this class. This class provides the basic functionality for running a
simulation. It also provides a few helper functions for exporting and
importing the world model. The setup and initialize functions are expected
to be defined. The simulation must be put into the state of “READY” before
any of the step functions can be called.</p>
<div class="members docutils container">
<dl>
<dt>Property Summary</dt><dd><dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.simulation_log">
<span class="sig-name descname"><span class="pre">simulation_log</span></span><a class="headerlink" href="#rtd.sim.BaseSimulation.simulation_log" title="Permalink to this definition"></a></dt>
<dd><p>Historical log of the simulation</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.simulation_state">
<span class="sig-name descname"><span class="pre">simulation_state</span></span><a class="headerlink" href="#rtd.sim.BaseSimulation.simulation_state" title="Permalink to this definition"></a></dt>
<dd><p>Configuration state / step state of the simulation</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.simulation_time">
<span class="sig-name descname"><span class="pre">simulation_time</span></span><a class="headerlink" href="#rtd.sim.BaseSimulation.simulation_time" title="Permalink to this definition"></a></dt>
<dd><p>Internal history of time for the overall simulation
This is used to verify synchrony of all entities and components</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.simulation_timestep">
<span class="sig-name descname"><span class="pre">simulation_timestep</span></span><a class="headerlink" href="#rtd.sim.BaseSimulation.simulation_timestep" title="Permalink to this definition"></a></dt>
<dd><p>Define this variable to specify what a complete step of the simulation should progress
forward in time by</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.world">
<span class="sig-name descname"><span class="pre">world</span></span><a class="headerlink" href="#rtd.sim.BaseSimulation.world" title="Permalink to this definition"></a></dt>
<dd><p>Container which holds the entities and systems relevant for the simulation</p>
</dd></dl>

</dd>
<dt>Method Summary</dt><dd><dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.BaseSimulation.export" title="Permalink to this definition"></a></dt>
<dd><p>Export the world model to an xml</p>
<p>This function exports the world model to an xml file. If
multiple world models are present, then each world model
will be exported to a separate xml file with the index
appended to the filename. If no filename is provided, then
the default filename will be the name of the simulation
class and the current date and time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – Name of the file to export to. Default: ‘’</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.post_step">
<span class="sig-name descname"><span class="pre">post_step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.BaseSimulation.post_step" title="Permalink to this definition"></a></dt>
<dd><p>Execute after each step</p>
<p>This is the function that the user calls to execute the
post-step operations. This function also updates the
simulation time and checks for synchronization of all entities
and systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Struct of information of what happened during the post-step</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>info</p>
</dd>
</dl>
<dl class="simple">
<dt>Notifies:</dt><dd><p>PostStep: Notifies all listeners that the post-step has been executed</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.pre_step">
<span class="sig-name descname"><span class="pre">pre_step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.BaseSimulation.pre_step" title="Permalink to this definition"></a></dt>
<dd><p>Execute before the overall step</p>
<p>This is the function that the user calls to execute the
pre-step operations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Struct of information of what happened during the pre-step</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>info</p>
</dd>
</dl>
<dl class="simple">
<dt>Notifies:</dt><dd><p>PreStep: Notifies all listeners that the pre-step has been executed</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.BaseSimulation.run" title="Permalink to this definition"></a></dt>
<dd><p>Run the lifecycle of the simulation all at once</p>
<p>This is the function that the user calls to execute the
entire lifecycle of the simulation if they don’t want to
manually call each step. This function also provides the
ability to automatically log the simulation. It will run
until the simulation is stopped or the max number of steps
or max time is reached.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>options</strong> – Keyword arguments. See below</p>
</dd>
<dt class="field-even">Keyword Arguments<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>max_steps</strong> – Maximum number of steps to run the simulation for. Default: 1e8</p></li>
<li><p><strong>max_time</strong> – Maximum amount of time to run the simulation for. Default: Inf</p></li>
<li><p><strong>pre_step_callback</strong> – Function handle to execute before each step. Default: {}</p></li>
<li><p><strong>step_callback</strong> – Function handle to execute during each step. Default: {}</p></li>
<li><p><strong>post_step_callback</strong> – Function handle to execute after each step. Default: {}</p></li>
<li><p><strong>stop_on_goal</strong> – Stop the simulation if the goal is reached. Default: true</p></li>
<li><p><strong>autolog</strong> – Automatically log the simulation. Default: false</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.BaseSimulation.step" title="Permalink to this definition"></a></dt>
<dd><p>Execute all the updates needed for each step</p>
<p>This is the function that the user calls to execute the
step operations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Struct of information of what happened during the step</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>info</p>
</dd>
</dl>
<dl class="simple">
<dt>Notifies:</dt><dd><p>Step: Notifies all listeners that the step has been executed</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="rtd.sim.BaseSimulation.summary">
<span class="sig-name descname"><span class="pre">summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rtd.sim.BaseSimulation.summary" title="Permalink to this definition"></a></dt>
<dd><p>Default implementation returns the consolidated log</p>
<p>This function should be overridden by the user to
provide a summary with desired information as a struct</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Struct of what happened during the simulation run</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>struct_out</p>
</dd>
</dl>
</dd></dl>

</dd>
</dl>
</div>
</dd></dl>

</section>
<section id="armour-simulation">
<h2>Armour Simulation<a class="headerlink" href="#armour-simulation" title="Permalink to this heading"></a></h2>
<dl class="mat class">
<dt class="sig sig-object mat" id="armour.ArmourSimulation">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">armour.</span></span><span class="sig-name descname"><span class="pre">ArmourSimulation</span></span><a class="headerlink" href="#armour.ArmourSimulation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">rtd.sim.BaseSimulation</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">handle</span></code></p>
<p>Inherited properties we want to define</p>
<div class="members docutils container">
<dl>
<dt>Constructor Summary</dt><dd><dl class="mat method">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.ArmourSimulation">
<span class="sig-name descname"><span class="pre">ArmourSimulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">optionsStruct</span></em>, <em class="sig-param"><span class="pre">options</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armour.ArmourSimulation.ArmourSimulation" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd>
<dt>Property Summary</dt><dd><dl class="mat attribute">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.agent">
<span class="sig-name descname"><span class="pre">agent</span></span><a class="headerlink" href="#armour.ArmourSimulation.agent" title="Permalink to this definition"></a></dt>
<dd><p>Reference to the primary arm agent entity for convenience</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.collision_system">
<span class="sig-name descname"><span class="pre">collision_system</span></span><a class="headerlink" href="#armour.ArmourSimulation.collision_system" title="Permalink to this definition"></a></dt>
<dd><p>Reference to the collision system for convenience</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.goal_system">
<span class="sig-name descname"><span class="pre">goal_system</span></span><a class="headerlink" href="#armour.ArmourSimulation.goal_system" title="Permalink to this definition"></a></dt>
<dd><p>Reference to the goal system for convenience</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.simulation_timestep">
<span class="sig-name descname"><span class="pre">simulation_timestep</span></span><a class="headerlink" href="#armour.ArmourSimulation.simulation_timestep" title="Permalink to this definition"></a></dt>
<dd><p>We plan and run ARMOUR at half second intervals</p>
</dd></dl>

<dl class="mat attribute">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.visual_system">
<span class="sig-name descname"><span class="pre">visual_system</span></span><a class="headerlink" href="#armour.ArmourSimulation.visual_system" title="Permalink to this definition"></a></dt>
<dd><p>Reference to the visual system for convenience</p>
</dd></dl>

</dd>
<dt>Method Summary</dt><dd><dl class="mat method">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.import">
<span class="sig-name descname"><span class="pre">import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armour.ArmourSimulation.import" title="Permalink to this definition"></a></dt>
<dd><p>Import all configurations for the simulation world from an XML file</p>
<p>This function will import all entities and systems from an
XML file. This needs to be called after setup and will
overwrite any existing entities and systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> – The filename of the XML file to import</p>
</dd>
</dl>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#armour.ArmourSimulation.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the simulation</p>
<p>This function will initialize the simulation. This needs to
be called after setup and will ready the simulation for
stepping.</p>
</dd></dl>

<dl class="mat method">
<dt class="sig sig-object mat" id="armour.ArmourSimulation.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">agent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#armour.ArmourSimulation.setup" title="Permalink to this definition"></a></dt>
<dd><p>Setup the entity and systems for the simulation</p>
<p>Resets the simulation to a blank state and sets up the
simulation with the given ArmourAgent. For this simulation,
this must be called before initialize or import as the
ArmourAgent class is currently not fully serializable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>agent</strong> – The ArmourAgent to use for the simulation</p>
</dd>
</dl>
</dd></dl>

</dd>
</dl>
</div>
</dd></dl>

</section>
<section id="waitr-simulation">
<h2>Waitr Simulation<a class="headerlink" href="#waitr-simulation" title="Permalink to this heading"></a></h2>
<dl class="mat class">
<dt class="sig sig-object mat" id="waitr.WaitrSimulation">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">waitr.</span></span><span class="sig-name descname"><span class="pre">WaitrSimulation</span></span><a class="headerlink" href="#waitr.WaitrSimulation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">armour.ArmourSimulation</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">handle</span></code></p>
<div class="members docutils container">
<dl>
<dt>Method Summary</dt><dd><dl class="mat method">
<dt class="sig sig-object mat" id="waitr.WaitrSimulation.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#waitr.WaitrSimulation.initialize" title="Permalink to this definition"></a></dt>
<dd><p>Initialize the simulation</p>
<p>This function will initialize the simulation. This needs to
be called after setup and will ready the simulation for
stepping.</p>
</dd></dl>

</dd>
</dl>
</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="systems.html" class="btn btn-neutral float-left" title="Simulation Systems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../utilities/utilities.html" class="btn btn-neutral float-right" title="RTD Code Utilities Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, ROAHM Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>